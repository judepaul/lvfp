<div class="row" style="height:60px;"></div>

<%= render 'form', speech: @speech %>


<!-- <p id="notice"><%= notice %></p> -->


<div class="container">

<div class="row justify-content-end" style="text-align: right !important;">
<%= will_paginate @speeches, renderer: WillPaginate::ActionView::BootstrapLinkRenderer %>
</div>

<table width=100% border=1px>
  <thead>
    <tr align="center">
      <th>Code </th>
      <th>Access Code</th>
      <th>Content</th>
    </tr>
  </thead>

  <tbody>
    <% @speeches.each do |speech| %>
      <tr>
        <td class="email_code" style="text-decoration: underline; cursor:pointer; text-align:center;"><%= speech.email_code %></td>
        <td style="text-align:center;"><%= speech.user_content_map.user.access_code %></td>
        <td class="email_content_<%=speech.email_code%>"><%= speech.content %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br/>

<div class="row justify-content-end" style="text-align: right !important;">
<%= will_paginate @speeches, renderer: WillPaginate::ActionView::BootstrapLinkRenderer %>
</div>

<br/>
</div>
<%#= link_to 'New Speech', new_speech_path %>



<script type="text/javascript">
  var recognition = new SpeechRecognition();
  recognition.onresult = function(event) {
    if (event.results.length > 0) {
      display_speech_content.value = event.results[0][0].transcript;
      display_speech_content.form.submit();
    }
  }
</script>




